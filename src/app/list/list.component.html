<div class="bg-gray-100 min-h-screen">
  <!-- Header -->
  <app-header [title]="title" subtitulo="Lista de alumnos"></app-header>

  <div class="max-w-9/10 mx-auto p-8 mt-4">
    <!-- Buscador -->
    <div class="flex justify-end mb-6">
      <input
        type="text"
        placeholder="Buscar..."
        class="w-lg px-4 py-2 border border-gray-300 rounded-md hover:ring focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white placeholder:text-gray-400 disabled:opacity-50 transition"
      />
    </div>

    @if (cargando) {
    <div class="flex justify-center items-center py-8">
      <div
        class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"
      ></div>
    </div>
    }

    <!-- Error -->
    @if (error && !cargando) {
    <div
      class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"
    >
      {{ error }}
    </div>
    } @if (!cargando && !error) {
    <div class="relative overflow-x-auto overflow-y-hidden">
      <table class="table-auto w-full text-left">
        <thead class="uppercase">
          <tr class="text-sky-500">
            <th scope="col" class="p-2">#</th>
            <th scope="col" class="px-6 py-2">CURP</th>
            <th scope="col" class="px-6 py-2">Nombre</th>
            <th scope="col" class="px-6 py-2">Matr√≠cula</th>
            <th scope="col" class="px-6 py-2">Correo</th>
            <th scope="colgroup" class="px-6">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let alumno of alumnos; let i = index"
            class="text-indigo-600 hover:text-indigo-800 hover:bg-white transition border-b border-t border-indigo-300"
            [ngClass]="i % 2 === 0 ? 'bg-indigo-100' : 'bg-indigo-200'"
          >
            <td class="p-2">{{ i + 1 }}</td>
            <td class="px-6 py-2">{{ alumno.CURP }}</td>
            <td class="px-6 py-2">{{ alumno.Nombre }}</td>
            <td class="px-6 py-2">{{ alumno.Matricula }}</td>
            <td class="px-6 py-2">{{ alumno.Correo }}</td>
            <td class="px-6 py-2 flex gap-3">
              <button
                (click)="eliminarAlumno(alumno)"
                class="transition duration-180 hover:filter hover:brightness-500 hover:cursor-pointer hover:scale-105"
                title="Eliminar alumno"
              >
                <img src="assets/DETALLE.png" alt="Eliminar" class="w-7 h-7" />
              </button>
              <button
                (click)="editarAlumno(alumno)"
                class="transition duration-180 hover:filter hover:brightness-180 hover:cursor-pointer hover:scale-105"
                title="Editar alumno"
              >
                <img src="assets/DETALLE2.png" alt="Editar" class="w-7 h-7" />
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    }
  </div>
</div>
